var o=class{constructor(e){this.profileSelect=null;this.deleteProfileSelect=null;this.quickProfileSelect=null;this.newProfileNameInput=null;this.switchProfileBtn=null;this.createProfileBtn=null;this.deleteProfileBtn=null;this.profileConfirmModal=null;this.profileConfirmClose=null;this.confirmDeleteProfileBtn=null;this.cancelDeleteProfileBtn=null;this.profileToDelete="";this.app=e,this.initializeUIElements(),this.initializeEventListeners()}initializeUIElements(){this.profileSelect=document.getElementById("profile-select"),this.deleteProfileSelect=document.getElementById("delete-profile-select"),this.quickProfileSelect=document.getElementById("quick-profile-select"),this.newProfileNameInput=document.getElementById("new-profile-name"),this.switchProfileBtn=document.getElementById("switch-profile"),this.createProfileBtn=document.getElementById("create-profile"),this.deleteProfileBtn=document.getElementById("delete-profile"),this.profileConfirmModal=document.getElementById("profile-confirm-modal"),this.profileConfirmClose=document.getElementById("profile-confirm-close"),this.confirmDeleteProfileBtn=document.getElementById("confirm-delete-profile"),this.cancelDeleteProfileBtn=document.getElementById("cancel-delete-profile")}initializeEventListeners(){this.switchProfileBtn&&this.profileSelect&&this.switchProfileBtn.addEventListener("click",()=>{let e=this.profileSelect.value;e&&this.app.switchProfile(e)&&(this.app.showNotification(`Profile switched to "${e}"`,!0),this.updateUI())}),this.createProfileBtn&&this.newProfileNameInput&&this.createProfileBtn.addEventListener("click",()=>{let e=this.newProfileNameInput.value.trim();e?this.app.createProfile(e)?(this.app.showNotification(`Profile "${e}" created and activated`,!0),this.newProfileNameInput.value="",this.updateUI()):this.app.showNotification(`A profile named "${e}" already exists`,!1):this.app.showNotification("Please enter a profile name",!1)}),this.deleteProfileBtn&&this.deleteProfileSelect&&this.profileConfirmModal&&this.deleteProfileBtn.addEventListener("click",()=>{this.deleteProfileSelect.value&&(this.profileToDelete=this.deleteProfileSelect.value,this.profileConfirmModal.style.display="block",this.app.setModalOpen(!0))}),this.profileConfirmClose&&this.profileConfirmModal&&this.profileConfirmClose.addEventListener("click",()=>{this.profileConfirmModal.style.display="none",this.profileToDelete="",this.app.setModalOpen(!1)}),this.cancelDeleteProfileBtn&&this.profileConfirmModal&&this.cancelDeleteProfileBtn.addEventListener("click",()=>{this.profileConfirmModal.style.display="none",this.profileToDelete="",this.app.setModalOpen(!1)}),this.confirmDeleteProfileBtn&&this.profileConfirmModal&&this.confirmDeleteProfileBtn.addEventListener("click",()=>{this.profileToDelete&&(this.app.deleteProfile(this.profileToDelete)?this.app.showNotification(`Profile "${this.profileToDelete}" deleted`,!0):this.app.showNotification("Cannot delete the Default profile",!1)),this.profileConfirmModal.style.display="none",this.profileToDelete="",this.app.setModalOpen(!1),this.updateUI()}),this.profileConfirmModal&&this.profileConfirmModal.addEventListener("click",e=>{if(e.target===this.profileConfirmModal){if(this.profileConfirmModal===null)return;this.profileConfirmModal.style.display="none",this.profileToDelete="",this.app.setModalOpen(!1)}}),this.quickProfileSelect&&(this.quickProfileSelect.addEventListener("focus",()=>{this.app.setInteractingWithDropdown(!0)}),this.quickProfileSelect.addEventListener("blur",()=>{this.app.setInteractingWithDropdown(!1)}),this.quickProfileSelect.addEventListener("change",()=>{let e=this.quickProfileSelect.value;if(e&&this.app.switchProfile(e)){this.app.showNotification(`Profile switched to "${e}"`,!0),this.updateUI();let l=document.getElementById("input");l&&l.select()}this.app.setInteractingWithDropdown(!1)})),this.profileSelect&&(this.profileSelect.addEventListener("focus",()=>{this.app.setInteractingWithDropdown(!0)}),this.profileSelect.addEventListener("blur",()=>{this.app.setInteractingWithDropdown(!1)})),this.deleteProfileSelect&&(this.deleteProfileSelect.addEventListener("focus",()=>{this.app.setInteractingWithDropdown(!0)}),this.deleteProfileSelect.addEventListener("blur",()=>{this.app.setInteractingWithDropdown(!1)}))}updateUI(){this.populateProfileDropdowns(),this.updateQuickProfileDropdown()}populateProfileDropdowns(){if(!this.profileSelect||!this.deleteProfileSelect)return;let e=this.app.getProfileNames(),l=this.app.getCurrentProfileName();this.profileSelect.innerHTML="",this.deleteProfileSelect.innerHTML="",e.forEach(i=>{if(this.profileSelect===null)return;let t=document.createElement("option");t.value=i,t.textContent=i,i===l&&(t.selected=!0),this.profileSelect.appendChild(t)}),e.forEach(i=>{if(i!=="Default"){let t=document.createElement("option");t.value=i,t.textContent=i,this.deleteProfileSelect.appendChild(t)}}),e.length<=1&&this.deleteProfileBtn&&this.deleteProfileSelect?(this.deleteProfileBtn.disabled=!0,this.deleteProfileSelect.disabled=!0):this.deleteProfileBtn&&this.deleteProfileSelect&&(this.deleteProfileBtn.disabled=!1,this.deleteProfileSelect.disabled=!1)}updateQuickProfileDropdown(){if(!this.quickProfileSelect)return;this.quickProfileSelect.innerHTML="";let e=this.app.getProfileNames(),l=this.app.getCurrentProfileName();e.forEach(i=>{let t=document.createElement("option");t.value=i,t.textContent=i,i===l&&(t.selected=!0),this.quickProfileSelect.appendChild(t)})}};export{o as ProfilesUI};
//# sourceMappingURL=ProfilesUI.js.map
